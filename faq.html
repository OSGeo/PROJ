

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQ &mdash; PROJ.4 5.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PROJ.4 5.0.0 documentation" href="index.html"/>
        <link rel="next" title="Contributing" href="contributing.html"/>
        <link rel="prev" title="Version 4 to 5 API Migration" href="development/migration.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PROJ.4
          

          
          </a>

          
            
            
              <div class="version">
                5.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage/index.html">Using PROJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="operations/index.html">Coordinate operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource_files.html">Resource files</a></li>
<li class="toctree-l1"><a class="reference internal" href="geodesic.html">Geodesic calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#where-can-i-find-the-list-of-projections-and-their-arguments">Where can I find the list of projections and their arguments?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-build-configure-proj-to-support-datum-shifting">How do I build/configure PROJ to support datum shifting?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-debug-problems-with-nad27-nad83-datum-shifting">How do I debug problems with NAD27/NAD83 datum shifting?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-use-epsg-coordinate-system-codes-with-proj">How do I use EPSG coordinate system codes with PROJ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-use-3-parameter-and-7-parameter-datum-shifting">How do I use 3 parameter and 7 parameter datum shifting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#does-proj-work-in-different-international-numeric-locales">Does PROJ work in different international numeric locales?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-ellipsoid-why-can-t-i-convert-from-wgs84-to-google-earth-virtual-globe-mercator">Changing Ellipsoid / Why can&#8217;t I convert from WGS84 to Google Earth / Virtual Globe Mercator?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-do-i-get-different-results-with-4-5-0-and-4-6-0">Why do I get different results with 4.5.0 and 4.6.0?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-calculate-distances-directions-on-the-surface-of-the-earth">How do I calculate distances/directions on the surface of the earth?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-healpix-projection-and-how-can-i-use-it">What is the HEALPix projection and how can I use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-rhealpix-projection-and-how-can-i-use-it">What is the rHEALPix projection and how can I use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-options-does-proj-allow-for-the-shape-of-the-earth-geodesy">What options does PROJ allow for the shape of the Earth (geodesy)?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-if-i-want-a-spherical-earth">What if I want a spherical Earth?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-change-the-radius-of-the-earth-how-do-i-use-proj-for-work-on-mars">How do I change the radius of the Earth?  How do I use PROJ for work on Mars?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-do-false-eastings-and-false-northings">How do I do False Eastings and False Northings?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PROJ.4</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<span id="id1"></span><h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#faq" id="id2">FAQ</a><ul>
<li><a class="reference internal" href="#where-can-i-find-the-list-of-projections-and-their-arguments" id="id3">Where can I find the list of projections and their arguments?</a></li>
<li><a class="reference internal" href="#how-do-i-build-configure-proj-to-support-datum-shifting" id="id4">How do I build/configure PROJ to support datum shifting?</a></li>
<li><a class="reference internal" href="#how-do-i-debug-problems-with-nad27-nad83-datum-shifting" id="id5">How do I debug problems with NAD27/NAD83 datum shifting?</a></li>
<li><a class="reference internal" href="#how-do-i-use-epsg-coordinate-system-codes-with-proj" id="id6">How do I use EPSG coordinate system codes with PROJ?</a></li>
<li><a class="reference internal" href="#how-do-i-use-3-parameter-and-7-parameter-datum-shifting" id="id7">How do I use 3 parameter and 7 parameter datum shifting</a></li>
<li><a class="reference internal" href="#does-proj-work-in-different-international-numeric-locales" id="id8">Does PROJ work in different international numeric locales?</a></li>
<li><a class="reference internal" href="#changing-ellipsoid-why-can-t-i-convert-from-wgs84-to-google-earth-virtual-globe-mercator" id="id9">Changing Ellipsoid / Why can&#8217;t I convert from WGS84 to Google Earth / Virtual Globe Mercator?</a></li>
<li><a class="reference internal" href="#why-do-i-get-different-results-with-4-5-0-and-4-6-0" id="id10">Why do I get different results with 4.5.0 and 4.6.0?</a></li>
<li><a class="reference internal" href="#how-do-i-calculate-distances-directions-on-the-surface-of-the-earth" id="id11">How do I calculate distances/directions on the surface of the earth?</a></li>
<li><a class="reference internal" href="#what-is-the-healpix-projection-and-how-can-i-use-it" id="id12">What is the HEALPix projection and how can I use it?</a></li>
<li><a class="reference internal" href="#what-is-the-rhealpix-projection-and-how-can-i-use-it" id="id13">What is the rHEALPix projection and how can I use it?</a></li>
<li><a class="reference internal" href="#what-options-does-proj-allow-for-the-shape-of-the-earth-geodesy" id="id14">What options does PROJ allow for the shape of the Earth (geodesy)?</a></li>
<li><a class="reference internal" href="#what-if-i-want-a-spherical-earth" id="id15">What if I want a spherical Earth?</a></li>
<li><a class="reference internal" href="#how-do-i-change-the-radius-of-the-earth-how-do-i-use-proj-for-work-on-mars" id="id16">How do I change the radius of the Earth?  How do I use PROJ for work on Mars?</a></li>
<li><a class="reference internal" href="#how-do-i-do-false-eastings-and-false-northings" id="id17">How do I do False Eastings and False Northings?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="where-can-i-find-the-list-of-projections-and-their-arguments">
<h2>Where can I find the list of projections and their arguments?<a class="headerlink" href="#where-can-i-find-the-list-of-projections-and-their-arguments" title="Permalink to this headline">¶</a></h2>
<p>There is no simple single location to find all the required information. The
!PostScript/PDF documents listed on the [<a class="reference external" href="http://trac.osgeo.org/proj/wiki">http://trac.osgeo.org/proj/wiki</a> main]
PROJ page under documentation are the authoritative source but projections
and options are spread over several documents in a form more related to their
order of implementation than anything else.</p>
<p>The &#8216;&#8217;&#8216;proj&#8217;&#8216;&#8217; command itself can report the list of projections using the
&#8216;&#8217;&#8216;-lp&#8217;&#8216;&#8217; option, the list of ellipsoids with the &#8216;&#8217;&#8216;-le&#8217;&#8216;&#8217; option, the list of
units with the &#8216;&#8217;&#8216;-lu&#8217;&#8216;&#8217; option, and the list of built-in datums with the
&#8216;&#8217;&#8216;-ld&#8217;&#8216;&#8217; option.</p>
<p>The [<a class="reference external" href="http://www.remotesensing.org/geotiff/proj_list/">http://www.remotesensing.org/geotiff/proj_list/</a> GeoTIFF Projections Pages]
include most of the common PROJ projections, and a definition of the
projection specific options for each.</p>
<ul class="simple">
<li>How do I do datum shifts between NAD27 and NAD83?</li>
</ul>
<p>While the &#8216;&#8217;&#8216;nad2nad&#8217;&#8216;&#8217; program can be used in some cases, the &#8216;&#8217;&#8216;cs2cs&#8217;&#8216;&#8217; is
now the preferred mechanism.   The following example demonstrates using the
default shift parameters for NAD27 to NAD83:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cs2cs</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">latlong</span> <span class="o">+</span><span class="n">datum</span><span class="o">=</span><span class="n">NAD27</span> <span class="o">+</span><span class="n">to</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">latlong</span> <span class="o">+</span><span class="n">datum</span><span class="o">=</span><span class="n">NAD83</span> <span class="o">-</span><span class="mi">117</span> <span class="mi">30</span>
</pre></div>
</div>
<p>producing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">117</span><span class="n">d0</span><span class="s1">&#39;2.901&quot;W   30d0&#39;</span><span class="mf">0.407</span><span class="s2">&quot;N 0.000</span>
</pre></div>
</div>
<p>In order for datum shifting to work properly the various grid shift files must
be available.  See below.  More details are available in the
[wiki:GenParms#nadgrids-GridBasedDatumAdjustments General Parameters] document.</p>
</div>
<div class="section" id="how-do-i-build-configure-proj-to-support-datum-shifting">
<h2>How do I build/configure PROJ to support datum shifting?<a class="headerlink" href="#how-do-i-build-configure-proj-to-support-datum-shifting" title="Permalink to this headline">¶</a></h2>
<p>After downloading and unpacking the PROJ source, also download and unpack the
set of datum shift files.  See <a class="reference internal" href="download.html#download"><span class="std std-ref">Download</span></a> for instructions how to fetch
and install these files</p>
<p>On Windows the extra nadshift target must be used.  For instance
<code class="docutils literal"><span class="pre">nmake</span> <span class="pre">/f</span> <span class="pre">makefile.vc</span> <span class="pre">nadshift</span></code> in the <code class="docutils literal"><span class="pre">proj/src</span></code> directory.</p>
<p>A default build and install on Unix will normally build knowledge of the
directory where the grid shift files are installed into the PROJ library
(usually /usr/local/share/proj).  On Windows the library is normally built
thinking that C:PROJNAD is the installed directory for the grid shift files.
If the built in concept of the PROJ data directory is incorrect, the <code class="docutils literal"><span class="pre">PROJ_LIB</span></code>
environment can be defined with the correct directory.</p>
</div>
<div class="section" id="how-do-i-debug-problems-with-nad27-nad83-datum-shifting">
<h2>How do I debug problems with NAD27/NAD83 datum shifting?<a class="headerlink" href="#how-do-i-debug-problems-with-nad27-nad83-datum-shifting" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Verify that you have the binary files (eg. /usr/local/share/proj/conus)
installed on your system.  If not, see the previous question.</p>
</li>
<li><p class="first">Try a datum shifting operation in relative isolation, such as with the cs2cs
command listed above.  Do you get reasonable results?  If not it is likely
the grid shift files aren&#8217;t being found.  Perhaps you need to define
PROJ_LIB?</p>
</li>
<li><p class="first">The cs2cs command and the underlying pj_transform() API know how to do a
grid shift as part of a more complex coordinate transformation; however, it
is imperative that both the source and destination coordinate system be
defined with appropriate datum information.  That means that implicitly or
explicitly there must be a +datum= clause, a +nadgrids= clause or a
+towgs84= clause.  For instance
<code class="docutils literal"><span class="pre">cs2cs</span> <span class="pre">+proj=latlong</span> <span class="pre">+datum=NAD27</span> <span class="pre">+to</span> <span class="pre">+proj=latlong</span> <span class="pre">+ellps=WGS84</span></code> won&#8217;t work because defining the output
coordinate system as using the ellipse WGS84 isn&#8217;t the same as defining it
to use the datum WGS84 (use +datum=WGS84).  If either the input or output
are not identified as having a datum, the datum shifting (and ellipsoid
change) step is just quietly skipped!</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">PROJ_DEBUG</span></code> environment can be defined (any value) to force extra output
from the PROJ library to stderr (the text console normally) with
information on what data files are being opened and in some cases why a
transformation fails.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PROJ_DEBUG</span><span class="o">=</span><span class="n">ON</span>
<span class="n">cs2cs</span> <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">PROJ_DEBUG</span></code> support is not yet very mature in the PROJ library.</p>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">-v</span></code> flag to cs2cs can be useful in establishing more detail on what
parameters being used internally for a coordinate system.  This will include
expanding the definition of +datum clause.</p>
</li>
</ol>
</div>
<div class="section" id="how-do-i-use-epsg-coordinate-system-codes-with-proj">
<h2>How do I use EPSG coordinate system codes with PROJ?<a class="headerlink" href="#how-do-i-use-epsg-coordinate-system-codes-with-proj" title="Permalink to this headline">¶</a></h2>
<p>There is somewhat imperfect translation between 2d geographic and projected
coordinate system codes and PROJ descriptions of the coordinate system
available in the epsg definition file that normally lives in the proj/nad
directory.  If installed (it is installed by default on Unix), it is possible
to use EPSG numbers like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cs2cs</span> <span class="o">-</span><span class="n">v</span> <span class="o">+</span><span class="n">init</span><span class="o">=</span><span class="n">epsg</span><span class="p">:</span><span class="mi">26711</span>
<span class="c1"># ---- From Coordinate System ----</span>
<span class="c1">#Universal Transverse Mercator (UTM)</span>
<span class="c1">#       Cyl, Sph</span>
<span class="c1">#       zone= south</span>
<span class="c1"># +init=epsg:26711 +proj=utm +zone=11 +ellps=clrk66 +datum=NAD27 +units=m</span>
<span class="c1"># +no_defs +nadgrids=conus,ntv1_can.dat</span>
<span class="c1">#--- following specified but NOT used</span>
<span class="c1"># +ellps=clrk66</span>
<span class="c1"># ---- To Coordinate System ----</span>
<span class="c1">#Lat/long (Geodetic)</span>
<span class="c1">#</span>
<span class="c1"># +proj=latlong +datum=NAD27 +ellps=clrk66 +nadgrids=conus,ntv1_can.dat</span>
</pre></div>
</div>
<p>The proj/nad/epsg file can be browsed and searched in a text editor for
coordinate systems.  There are known to be problems with some coordinate
systems, and any coordinate systems with odd axes, a non-greenwich prime
meridian or other quirkiness are unlikely to work properly.  Caveat Emptor!</p>
</div>
<div class="section" id="how-do-i-use-3-parameter-and-7-parameter-datum-shifting">
<h2>How do I use 3 parameter and 7 parameter datum shifting<a class="headerlink" href="#how-do-i-use-3-parameter-and-7-parameter-datum-shifting" title="Permalink to this headline">¶</a></h2>
<p>Datum shifts can be approximated with 3 and 7 parameter transformations.  Their
use is more fully described in the
[wiki:GenParms#towgs84-DatumtransformationtoWGS84 towgs84] parameter
discussion.</p>
</div>
<div class="section" id="does-proj-work-in-different-international-numeric-locales">
<h2>Does PROJ work in different international numeric locales?<a class="headerlink" href="#does-proj-work-in-different-international-numeric-locales" title="Permalink to this headline">¶</a></h2>
<p>No.  PROJ makes extensive use of sprintf() and atof() internally to translate
numeric values.  If a locale is in effect that modifies formatting of numbers,
altering the role of commas and periods in numbers, then PROJ will not work.
This problem is common in some European locales.</p>
<p>On unix-like platforms, this problem can be avoided by forcing the use of the
default numeric locale by setting the LC_NUMERIC environment variable to C.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ export LC_NUMERIC=C
$ proj ...
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">NOTE: Per ticket #49, in PROJ 4.7.0 and later pj_init() operates with locale
overridden to &#8220;C&#8221; to avoid most locale specific processing for applications
using the API.  Command line tools may still have issues.</p>
</div>
</div>
<div class="section" id="changing-ellipsoid-why-can-t-i-convert-from-wgs84-to-google-earth-virtual-globe-mercator">
<h2>Changing Ellipsoid / Why can&#8217;t I convert from WGS84 to Google Earth / Virtual Globe Mercator?<a class="headerlink" href="#changing-ellipsoid-why-can-t-i-convert-from-wgs84-to-google-earth-virtual-globe-mercator" title="Permalink to this headline">¶</a></h2>
<p>The coordinate system definition for Google Earth, and Virtual Globe Mercator
is as follows, which uses a sphere as the earth model for the Mercator
projection.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">merc</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">b</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">lat_ts</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mf">0.0</span>
     <span class="o">+</span><span class="n">x_0</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">y_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">k</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">+</span><span class="n">units</span><span class="o">=</span><span class="n">m</span> <span class="o">+</span><span class="n">no_defs</span>
</pre></div>
</div>
<p>But, if you do something like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cs2cs</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">latlong</span> <span class="o">+</span><span class="n">datum</span><span class="o">=</span><span class="n">WGS84</span>
    <span class="o">+</span><span class="n">to</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">merc</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">b</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">lat_ts</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mf">0.0</span>
                   <span class="o">+</span><span class="n">x_0</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">y_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">k</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">+</span><span class="n">units</span><span class="o">=</span><span class="n">m</span> <span class="o">+</span><span class="n">no_defs</span>
</pre></div>
</div>
<p>to convert between WGS84 and mercator on the sphere there will be substantial
shifts in the Y mercator coordinates.  This is because internally cs2cs is
having to adjust the lat/long coordinates from being on the sphere to being on
the WGS84 datum which has a quite differently shaped ellipsoid.</p>
<p>In this case, and many other cases using spherical projections, the desired
approach is to actually treat the lat/long locations on the sphere as if they
were on WGS84 without any adjustments when using them for converting to other
coordinate systems.  The solution is to &#8220;trick&#8221; PROJ into applying no change
to the lat/long values when going to (and through) WGS84.  This can be
accomplished by asking PROJ to use a null grid shift file for switching from
your spherical lat/long coordinates to WGS84.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cs2cs</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">latlong</span> <span class="o">+</span><span class="n">datum</span><span class="o">=</span><span class="n">WGS84</span> \
    <span class="o">+</span><span class="n">to</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">merc</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">b</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">lat_ts</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mf">0.0</span> \
    <span class="o">+</span><span class="n">x_0</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">y_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">k</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">+</span><span class="n">units</span><span class="o">=</span><span class="n">m</span> <span class="o">+</span><span class="n">nadgrids</span><span class="o">=</span><span class="nd">@null</span> <span class="o">+</span><span class="n">no_defs</span>
</pre></div>
</div>
<p>Note the strategic addition of <a class="reference external" href="mailto:+nadgrids=&#37;&#52;&#48;null">+nadgrids=<span>&#64;</span>null</a> to the spherical projection
definition.</p>
<p>Similar issues apply with many other datasets distributed with projections
based on a spherical earth model - such as many NASA datasets.  This coordinate
system is now known by the EPSG code 3857 and has in the past been known as
EPSG:3785 and EPSG:900913.  When using this coordinate system with GDAL/OGR it
is helpful to include the +wktext so the exact PROJ string will be preserved
in the WKT representation (otherwise key parameters like <cite>+nadgrids=&#64;null</cite> will
be dropped):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">merc</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">b</span><span class="o">=</span><span class="mi">6378137</span> <span class="o">+</span><span class="n">lat_ts</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">x_0</span><span class="o">=</span><span class="mf">0.0</span> <span class="o">+</span><span class="n">y_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">k</span><span class="o">=</span><span class="mf">1.0</span>
           <span class="o">+</span><span class="n">units</span><span class="o">=</span><span class="n">m</span> <span class="o">+</span><span class="n">nadgrids</span><span class="o">=</span><span class="nd">@null</span> <span class="o">+</span><span class="n">wktext</span>  <span class="o">+</span><span class="n">no_defs</span>
</pre></div>
</div>
</div>
<div class="section" id="why-do-i-get-different-results-with-4-5-0-and-4-6-0">
<h2>Why do I get different results with 4.5.0 and 4.6.0?<a class="headerlink" href="#why-do-i-get-different-results-with-4-5-0-and-4-6-0" title="Permalink to this headline">¶</a></h2>
<p>The default datum application behavior changed with the 4.6.0 release.  PROJ
will now only apply a datum shift if both the source and destination coordinate
system have valid datum shift information.</p>
<dl class="docutils">
<dt>From the PROJ 4.6.0 Release Notes (in NEWS):</dt>
<dd><ul class="first last simple">
<li>MAJOR: Rework pj_transform() to avoid applying ellipsoid to ellipsoid
transformations as a datum shift when no datum info is available.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="how-do-i-calculate-distances-directions-on-the-surface-of-the-earth">
<h2>How do I calculate distances/directions on the surface of the earth?<a class="headerlink" href="#how-do-i-calculate-distances-directions-on-the-surface-of-the-earth" title="Permalink to this headline">¶</a></h2>
<p>These are called geodesic calculations. There is a page about it here:
<a class="reference internal" href="geodesic.html#geodesic"><span class="std std-ref">Geodesic calculations</span></a>.</p>
</div>
<div class="section" id="what-is-the-healpix-projection-and-how-can-i-use-it">
<h2>What is the HEALPix projection and how can I use it?<a class="headerlink" href="#what-is-the-healpix-projection-and-how-can-i-use-it" title="Permalink to this headline">¶</a></h2>
<div class="figure align-left">
<a class="reference internal image-reference" href="_images/rhealpix.png"><img alt="_images/rhealpix.png" src="_images/rhealpix.png" style="width: 331.2px; height: 242.8px;" /></a>
</div>
<p>The HEALPix projection is area preserving and can be used with a
spherical and ellipsoidal model.  It was initially developed for mapping cosmic
background microwave radiation.  The image below is the graphical
representation of the mapping and consists of eight isomorphic triangular
interrupted map graticules.  The north and south contains four in which
straight meridians converge polewards to a point and unequally spaced
horizontal parallels.  HEALPix provides a mapping in which points of equal
latitude and equally spaced longitude are mapped to points of equal latitude
and equally spaced longitude with the module of the polar interruptions. ||</p>
<p>To run a forward HEALPix projection on a unit sphere model, use the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">healpix</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;&lt;</span><span class="n">EOF</span>
<span class="mi">0</span> <span class="mi">0</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Output of the above command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="mi">0</span> <span class="mf">0.00</span> <span class="mf">0.00</span>
</pre></div>
</div>
</div>
<div class="section" id="what-is-the-rhealpix-projection-and-how-can-i-use-it">
<h2>What is the rHEALPix projection and how can I use it?<a class="headerlink" href="#what-is-the-rhealpix-projection-and-how-can-i-use-it" title="Permalink to this headline">¶</a></h2>
<div class="figure align-left">
<a class="reference internal image-reference" href="_images/healpix.png"><img alt="_images/healpix.png" src="_images/healpix.png" style="width: 327.2px; height: 173.6px;" /></a>
</div>
<p>rHEALPix is a projection based on the HEALPix projection.  The implementation
of rHEALPix uses the HEALPix projection.  The rHEALPix combines the peaks of
the HEALPix into a square.  The square&#8217;s position can be translated and rotated
across the x-axis which is a novel approach for the rHEALPix projection.  The
initial intention of using rHEALPix in the Spatial Computation Engine Science
Collaboration Environment (SCENZGrid).</p>
<p>To run a inverse rHEALPix projection on a WGS84 ellipsoidal model, use the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">rhealpix</span> <span class="o">-</span><span class="n">f</span> <span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">-</span><span class="n">I</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span> <span class="o">+</span><span class="n">ellps</span><span class="o">=</span><span class="n">WGS84</span> <span class="o">+</span><span class="n">npole</span><span class="o">=</span><span class="mi">0</span> <span class="o">+</span><span class="n">spole</span><span class="o">=</span><span class="mi">0</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;&lt;</span><span class="n">EOF</span>
<span class="mi">0</span> <span class="mf">0.7853981633974483</span>
<span class="n">EOF</span>
</pre></div>
</div>
<p>Where spole and npole are integers from the range of 0 to 3 inclusive and represent the positions of the north polar and south polar squares.</p>
<p>Output of above command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="mf">0.7853981633974483</span> <span class="mf">0.00</span> <span class="mf">41.94</span>
</pre></div>
</div>
</div>
<div class="section" id="what-options-does-proj-allow-for-the-shape-of-the-earth-geodesy">
<h2>What options does PROJ allow for the shape of the Earth (geodesy)?<a class="headerlink" href="#what-options-does-proj-allow-for-the-shape-of-the-earth-geodesy" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://github.com/OSGeo/proj.4/blob/master/src/pj_ellps.c">https://github.com/OSGeo/proj.4/blob/master/src/pj_ellps.c</a>
for possible ellipse options. For example, putting <code class="docutils literal"><span class="pre">+ellps=WGS84</span></code> uses
the <code class="docutils literal"><span class="pre">WGS84</span></code> Earth shape.</p>
</div>
<div class="section" id="what-if-i-want-a-spherical-earth">
<h2>What if I want a spherical Earth?<a class="headerlink" href="#what-if-i-want-a-spherical-earth" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal"><span class="pre">+ellps=sphere</span></code>.  See <a class="reference external" href="https://github.com/OSGeo/proj.4/blob/master/src/pj_ellps.c">https://github.com/OSGeo/proj.4/blob/master/src/pj_ellps.c</a>
for the radius used in this case.</p>
</div>
<div class="section" id="how-do-i-change-the-radius-of-the-earth-how-do-i-use-proj-for-work-on-mars">
<h2>How do I change the radius of the Earth?  How do I use PROJ for work on Mars?<a class="headerlink" href="#how-do-i-change-the-radius-of-the-earth-how-do-i-use-proj-for-work-on-mars" title="Permalink to this headline">¶</a></h2>
<p>You can supply explicit values for the semi minor and semi major axes instead
of using the symbolic &#8220;sphere&#8221; value.  Eg, if the radius were 2000000m:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">laea</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=-</span><span class="mf">40.000000</span> <span class="o">+</span><span class="n">lat_0</span><span class="o">=</span><span class="mf">74.000000</span> <span class="o">+</span><span class="n">x_0</span><span class="o">=</span><span class="mi">1000000</span> <span class="o">+</span><span class="n">y_0</span><span class="o">=</span><span class="mi">1700000</span> <span class="o">+</span><span class="n">a</span><span class="o">=</span><span class="mi">2000000</span> <span class="o">+</span><span class="n">b</span><span class="o">=</span><span class="mi">2000000</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-do-false-eastings-and-false-northings">
<h2>How do I do False Eastings and False Northings?<a class="headerlink" href="#how-do-i-do-false-eastings-and-false-northings" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal"><span class="pre">+x_0</span></code> and <code class="docutils literal"><span class="pre">+y_0</span></code> in the projection string.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="development/migration.html" class="btn btn-neutral" title="Version 4 to 5 API Migration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1983-2018.
      Last updated on 11 Mar 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'5.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>